# Crypto Tracker Bot

Crypto Tracker Bot — это Telegram-бот, который позволяет отслеживать курсы криптовалют и получать уведомления, когда курс превышает или падает ниже заданных порогов.

## Особенности

- Отслеживание курсов нескольких криптовалют одновременно.
- Возможность задания минимального и максимального порогов для каждой валюты.
- Уведомления в Telegram, когда курс достигает заданных порогов.
- Простая настройка и запуск с помощью Docker.

## Требования

- Python 3.11 или выше
- Docker

## Установка без Docker

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/lolevan/crypto-tracker.git
   cd crypto-tracker
   ```
2. Создайте виртуальное окружение и активируйте его:

    ```bash
    python -m venv venv
    source venv/bin/activate   # Для Windows используйте `venv\Scripts\activate`
    ```

3. Установите зависимости:

    ```bash
    pip install -r requirements.txt
    ```

4. Создайте файл .env и добавьте в него ваши токены:

    ```bash
    TELEGRAM_API_TOKEN=your_telegram_token_here
    CMC_API_KEY=your_coinmarketcap_key_here
    ```
5. Запустите бота:

     ```bash
    python app.py
    ```

## Установка с Docker

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/lolevan/crypto-tracker.git
   cd crypto-tracker
   ```

2. Сборка Docker-образа:
   
    ```bash
    docker build -t crypto-tracker .
    ```

3. Запуск Docker-контейнера:

    ```bash
    docker run -d -e TELEGRAM_API_TOKEN=your_telegram_token_here -e CMC_API_KEY=your_coinmarketcap_key_here crypto-tracker
    ```
    Замените **your_telegram_token_here** и **your_coinmarketcap_key_here** на реальные значения ваших токенов.

## Использование

После запуска бота в Telegram, вы можете использовать следующие команды:

1. **/start**  
   Эта команда запускает бота и отправляет приветственное сообщение:
   **Пример ответа**: Привет! Я могу отслеживать цены на криптовалюты для тебя. Используй команду /set для задания валюты и пороговых значений.

2. **/set <currency> <min_threshold> <max_threshold>**  
Эта команда позволяет установить криптовалюту для отслеживания, а также минимальный и максимальный пороги курса, при достижении которых бот будет отправлять уведомления.

**Пример**: /set BTC 30000 60000

**Описание параметров**:
- `<currency>` — Код криптовалюты, которую вы хотите отслеживать (например, BTC для Bitcoin, ETH для Ethereum).
- `<min_threshold>` — Минимальный порог курса в USD. Если курс упадет ниже этого значения, бот отправит уведомление.
- `<max_threshold>` — Максимальный порог курса в USD. Если курс превысит это значение, бот отправит уведомление.

**Пример ответа**: Отслеживание BTC с минимальным порогом 30000.0 и максимальным порогом 60000.0 установлено.

3. **Уведомления**  
Бот будет отправлять уведомления в тот же чат, где была введена команда `/set`, если курс криптовалюты достигнет заданного порога.

**Пример уведомления**: BTC превысила максимальный порог: 60500.0 USD или ETH упала ниже минимального порога: 2500.0 USD

### Примечание

- Если курс криптовалюты достигнет порога и затем вернется обратно в безопасные пределы, бот снова начнет отслеживать изменения и отправит уведомление при повторном превышении порога.
- Чтобы избежать спама, бот отправляет уведомления только при первом достижении порога, а не при каждом обновлении курса.
